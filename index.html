<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><meta name="groc-github-url" content="https://github.com/xdissent/karma-browserify"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path"><a href="https://github.com/xdissent/karma-browserify/blob/master/README.md">README.md</a></div></div><div id="document"><div class="segment"><div class="comments"><div class="wrapper"><h1 id="karma-browserify">karma-browserify</h1>

<p><a href="http://browserify.org">Browserify</a> for <a href="http://karma-runner.github.io">Karma</a></p>

<p><a href="http://badge.fury.io/js/karma-browserify"><img src="https://badge.fury.io/js/karma-browserify.png" alt="NPM version" title="" /></a></p>

<p>Browserify is an awesome tool for managing front-end module dependencies with
<code>require</code>, just like you would in Node. Karma is a killer JS test runner that's 
super fast and easy. But put them together and you're entering a world of pain.
This plugin aims to make them play nice.</p>

<p>Under most circumstances, Browserify attempts to give you a single monolithic
bundle of all of your JS files and their dependencies. That's perfect for fast
delivery with minimal requests in a browser environment, but sucks hard if 
you're just trying to run your tests (over and over). This plugin hijacks the
Browserify pipeline to produce a single bundle of <em>all</em> dependencies found in
your tests (and their dependencies) which is transferred to the browser under
test only once (unless it changes). A separate, minimal bundle is generated for
each test which, aside from the test code, only contains references to 
external dependencies in the main bundle. That way dependencies are updated in 
the browser only when necessary (watching for changes is supported) and your 
tests remain lightning fast.</p>

<h2 id="installation">Installation</h2>

<p>Install the plugin from npm:</p>

<pre><code class="sh">$ npm install karma-browserify --save-dev
</code></pre>

<p>Or from Github:</p>

<pre><code class="sh">$ npm install 'git+https://github.com/xdissent/karma-browserify.git' --save-dev
</code></pre>

<p>Add <code>browserify</code> to the <code>frameworks</code> and <code>preprocessor</code> keys in your 
Karma configuration:</p>

<pre><code class="coffee">module.exports = (config) -&gt;
  config.set

    # frameworks to use
    frameworks: ['mocha', 'browserify']

    preprocessors:
      '**/*.coffee': ['coffee']
      'my/test/files/*': ['browserify']

    # ...
</code></pre>

<h2 id="options">Options</h2>

<p>The plugin may be configured using the <code>browserify</code> key in your Karma config:</p>

<pre><code class="coffee">module.exports = (config) -&gt;
  config.set

    browserify: 
      extension: ['.coffee']  # This is for future compatibility.
      ignore: [path.join __dirname, 'components/angular-unstable/angular.js']
      transform: ['coffeeify']
      watch: true   # Watches dependencies only (Karma watches the tests)

    # ...
</code></pre>

<h2 id="usage">Usage</h2>

<p>Just <code>require</code> modules from within tests as you normally would in Node:</p>

<pre><code class="coffee">something = require '../some/module'

describe 'karma tests with browserify', -&gt;

  it 'should gimme dat module', -&gt;
    something.should.exist()
</code></pre>

<p>See the <a href="https://github.com/xdissent/karma-browserify/tree/master/example">example</a>
for a simple working setup.</p></div></div></div></div></body></html>